{% extends "base.html" %}
{% load i18n %}

{% block title %}All foods{% endblock %}

{% block content %}
    <h1>All foods (List Foods)</h1>

    {% include 'components/messages.html' with messages=messages %}

    <a href="{% url 'foods:food_create' %}">Create new Food</a>

    <hr><hr>
    <span>Order by: </span>
    <a href="{% url 'foods:list_foods' %}?ordering=name">Name</a>
    <a href="{% url 'foods:list_foods' %}?ordering=brand">Brand</a>
    <a href="{% url 'foods:list_foods' %}?ordering=calories">Calories</a>
    <a href="{% url 'foods:list_foods' %}?ordering=protein">Protein</a>
    <hr><hr>
    
    {% for object in page_obj %}
        <p>{{object}}</p>
        <a href="{% url 'foods:food_details' slug=object.slug %}">More details</a>
        <a href="#">Register Food (TODO)</a>
        {% if object.created_by.user == request.user %}
            <a href="{% url 'foods:food_delete' slug=object.slug %}">Delete Food</a>
        {% endif %}
        <hr>
    {% endfor %}

    {% include "components/pagination.html" %}
{% endblock %}